<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.1) on Sun Dec 30 11:24:34 MST 2018 -->
<title>KeyDistributedExecutor (threadly 5.30 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2018-12-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KeyDistributedExecutor (threadly 5.30 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.threadly.concurrent.wrapper</a></div>
<h2 title="Class KeyDistributedExecutor" class="title">Class KeyDistributedExecutor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.threadly.concurrent.wrapper.KeyDistributedExecutor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="KeyDistributedScheduler.html" title="class in org.threadly.concurrent.wrapper">KeyDistributedScheduler</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">KeyDistributedExecutor</span>
extends java.lang.Object</pre>
<div class="block">TaskDistributor is designed such that tasks executed on it for a given key will run in a single 
 threaded manner.  It needs a multi-threaded pool supplied to it, to then execute those tasks 
 on.  While the thread which runs those tasks may be different between multiple executions, no 
 two tasks for the same key will ever be run in parallel.
 <p>
 Because of that, it is recommended that the executor provided has as many possible threads as 
 possible keys that could be provided to be run in parallel.  If this class is starved for 
 threads some keys may continue to process new tasks, while other keys could be starved.
 <p>
 Assuming that the shared memory (any objects, primitives, etc) are only accessed through the 
 same instance of <a href="KeyDistributedExecutor.html" title="class in org.threadly.concurrent.wrapper"><code>KeyDistributedExecutor</code></a>, and assuming that those variables are only 
 accessed via the same key.  Then the programmer does not need to worry about synchronization, or 
 volatile.  The <a href="KeyDistributedExecutor.html" title="class in org.threadly.concurrent.wrapper"><code>KeyDistributedExecutor</code></a> will ensure the happens-before relationship.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.6.0 (since 1.0.0 as org.threadly.concurrent.TaskExecutorDistributor)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,java.util.concurrent.Executor)">KeyDistributedExecutor</a></span>&#8203;(int&nbsp;expectedParallism,
                      java.util.concurrent.Executor&nbsp;executor)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor)"><code>KeyDistributedExecutor(Executor)</code></a></div>
</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,java.util.concurrent.Executor,boolean)">KeyDistributedExecutor</a></span>&#8203;(int&nbsp;expectedParallism,
                      java.util.concurrent.Executor&nbsp;executor,
                      boolean&nbsp;accurateQueueSize)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,boolean)"><code>KeyDistributedExecutor(Executor, boolean)</code></a></div>
</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,java.util.concurrent.Executor,int)">KeyDistributedExecutor</a></span>&#8203;(int&nbsp;expectedParallism,
                      java.util.concurrent.Executor&nbsp;executor,
                      int&nbsp;maxTasksPerCycle)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,int)"><code>KeyDistributedExecutor(Executor, int)</code></a></div>
</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,java.util.concurrent.Executor,int,boolean)">KeyDistributedExecutor</a></span>&#8203;(int&nbsp;expectedParallism,
                      java.util.concurrent.Executor&nbsp;executor,
                      int&nbsp;maxTasksPerCycle,
                      boolean&nbsp;accurateQueueSize)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,int,boolean)"><code>KeyDistributedExecutor(Executor, int, boolean)</code></a></div>
</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor)">KeyDistributedExecutor</a></span>&#8203;(java.util.concurrent.Executor&nbsp;executor)</code></th>
<td class="colLast">
<div class="block">Constructor to use a provided executor implementation for running tasks.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor,boolean)">KeyDistributedExecutor</a></span>&#8203;(java.util.concurrent.Executor&nbsp;executor,
                      boolean&nbsp;accurateQueueSize)</code></th>
<td class="colLast">
<div class="block">Constructor to use a provided executor implementation for running tasks.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor,int)">KeyDistributedExecutor</a></span>&#8203;(java.util.concurrent.Executor&nbsp;executor,
                      int&nbsp;maxTasksPerCycle)</code></th>
<td class="colLast">
<div class="block">Constructor to use a provided executor implementation for running tasks.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.Executor,int,boolean)">KeyDistributedExecutor</a></span>&#8203;(java.util.concurrent.Executor&nbsp;executor,
                      int&nbsp;maxTasksPerCycle,
                      boolean&nbsp;accurateQueueSize)</code></th>
<td class="colLast">
<div class="block">Constructor to use a provided executor implementation for running tasks.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(java.lang.Object,java.lang.Runnable)">execute</a></span>&#8203;(java.lang.Object&nbsp;threadKey,
       java.lang.Runnable&nbsp;task)</code></th>
<td class="colLast">
<div class="block">Provide a task to be run with a given thread key.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.Executor</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExecutor()">getExecutor</a></span>()</code></th>
<td class="colLast">
<div class="block">Getter for the executor being used behind the scenes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../SubmitterExecutor.html" title="interface in org.threadly.concurrent">SubmitterExecutor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getExecutorForKey(java.lang.Object)">getExecutorForKey</a></span>&#8203;(java.lang.Object&nbsp;threadKey)</code></th>
<td class="colLast">
<div class="block">Returns a <a href="../SubmitterExecutor.html" title="interface in org.threadly.concurrent"><code>SubmitterExecutor</code></a> implementation where all tasks submitted on this executor 
 will run on the provided key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTaskQueueSize(java.lang.Object)">getTaskQueueSize</a></span>&#8203;(java.lang.Object&nbsp;threadKey)</code></th>
<td class="colLast">
<div class="block">Call to check how many tasks have been queued up for a given key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Object,&#8203;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTaskQueueSizeMap()">getTaskQueueSizeMap</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a map of all the keys and how many tasks are queued per key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#submit(java.lang.Object,java.lang.Runnable)">submit</a></span>&#8203;(java.lang.Object&nbsp;threadKey,
      java.lang.Runnable&nbsp;task)</code></th>
<td class="colLast">
<div class="block">Submit a task to be run with a given thread key.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#submit(java.lang.Object,java.lang.Runnable,T)">submit</a></span>&#8203;(java.lang.Object&nbsp;threadKey,
      java.lang.Runnable&nbsp;task,
      T&nbsp;result)</code></th>
<td class="colLast">
<div class="block">Submit a task to be run with a given thread key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#submit(java.lang.Object,java.util.concurrent.Callable)">submit</a></span>&#8203;(java.lang.Object&nbsp;threadKey,
      java.util.concurrent.Callable&lt;T&gt;&nbsp;task)</code></th>
<td class="colLast">
<div class="block">Submit a callable to be run with a given thread key.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.concurrent.Executor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>public&nbsp;KeyDistributedExecutor&#8203;(java.util.concurrent.Executor&nbsp;executor)</pre>
<div class="block">Constructor to use a provided executor implementation for running tasks.  
 <p>
 This constructs with a default expected level of concurrency of 16.  This also does not 
 attempt to have an accurate queue size for the <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> call (thus 
 preferring high performance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.util.concurrent.Executor,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>public&nbsp;KeyDistributedExecutor&#8203;(java.util.concurrent.Executor&nbsp;executor,
                              boolean&nbsp;accurateQueueSize)</pre>
<div class="block">Constructor to use a provided executor implementation for running tasks.  
 <p>
 This constructor allows you to specify if you want accurate queue sizes to be tracked for 
 given thread keys.  There is a performance hit associated with this, so this should only be 
 enabled if <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> calls will be used.  
 <p>
 This constructs with a default expected level of concurrency of 16.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>accurateQueueSize</code> - <code>true</code> to make <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> more accurate</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.util.concurrent.Executor,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>public&nbsp;KeyDistributedExecutor&#8203;(java.util.concurrent.Executor&nbsp;executor,
                              int&nbsp;maxTasksPerCycle)</pre>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor allows you to provide a maximum number of tasks for a key before it yields 
 to another key.  This can make it more fair, and make it so no single key can starve other 
 keys from running.  The lower this is set however, the less efficient it becomes in part 
 because it has to give up the thread and get it again, but also because it must copy the 
 subset of the task queue which it can run.  
 <p>
 This also allows you to specify if you want accurate queue sizes to be tracked for given 
 thread keys.  There is a performance hit associated with this, so this should only be enabled 
 if <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> calls will be used.  
 <p>
 This constructs with a default expected level of concurrency of 16.  This also does not 
 attempt to have an accurate queue size for the "getTaskQueueSize" call (thus preferring 
 high performance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>maxTasksPerCycle</code> - maximum tasks run per key before yielding for other keys</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.util.concurrent.Executor,int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>public&nbsp;KeyDistributedExecutor&#8203;(java.util.concurrent.Executor&nbsp;executor,
                              int&nbsp;maxTasksPerCycle,
                              boolean&nbsp;accurateQueueSize)</pre>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor allows you to provide a maximum number of tasks for a key before it yields 
 to another key.  This can make it more fair, and make it so no single key can starve other 
 keys from running.  The lower this is set however, the less efficient it becomes in part 
 because it has to give up the thread and get it again, but also because it must copy the 
 subset of the task queue which it can run.  
 <p>
 This also allows you to specify if you want accurate queue sizes to be tracked for given 
 thread keys.  There is a performance hit associated with this, so this should only be enabled 
 if <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> calls will be used.
 <p>
 This constructs with a default expected level of concurrency of 16.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>maxTasksPerCycle</code> - maximum tasks run per key before yielding for other keys</dd>
<dd><code>accurateQueueSize</code> - <code>true</code> to make <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> more accurate</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(int,java.util.concurrent.Executor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>@Deprecated
public&nbsp;KeyDistributedExecutor&#8203;(int&nbsp;expectedParallism,
                              java.util.concurrent.Executor&nbsp;executor)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor)"><code>KeyDistributedExecutor(Executor)</code></a></div>
</div>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor does not attempt to have an accurate queue size for the 
 <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> call (thus preferring high performance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expectedParallism</code> - IGNORED AND DEPRECATED</dd>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(int,java.util.concurrent.Executor,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>@Deprecated
public&nbsp;KeyDistributedExecutor&#8203;(int&nbsp;expectedParallism,
                              java.util.concurrent.Executor&nbsp;executor,
                              boolean&nbsp;accurateQueueSize)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,boolean)"><code>KeyDistributedExecutor(Executor, boolean)</code></a></div>
</div>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor allows you to specify if you want accurate queue sizes to be tracked for 
 given thread keys.  There is a performance hit associated with this, so this should only be 
 enabled if <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> calls will be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expectedParallism</code> - IGNORED AND DEPRECATED</dd>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>accurateQueueSize</code> - <code>true</code> to make <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> more accurate</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(int,java.util.concurrent.Executor,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>@Deprecated
public&nbsp;KeyDistributedExecutor&#8203;(int&nbsp;expectedParallism,
                              java.util.concurrent.Executor&nbsp;executor,
                              int&nbsp;maxTasksPerCycle)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,int)"><code>KeyDistributedExecutor(Executor, int)</code></a></div>
</div>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor allows you to provide a maximum number of tasks for a key before it yields 
 to another key.  This can make it more fair, and make it so no single key can starve other 
 keys from running.  The lower this is set however, the less efficient it becomes in part 
 because it has to give up the thread and get it again, but also because it must copy the 
 subset of the task queue which it can run.
 <p>
 This constructor does not attempt to have an accurate queue size for the 
 <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> call (thus preferring high performance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expectedParallism</code> - IGNORED AND DEPRECATED</dd>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>maxTasksPerCycle</code> - maximum tasks run per key before yielding for other keys</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(int,java.util.concurrent.Executor,int,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KeyDistributedExecutor</h4>
<pre>@Deprecated
public&nbsp;KeyDistributedExecutor&#8203;(int&nbsp;expectedParallism,
                              java.util.concurrent.Executor&nbsp;executor,
                              int&nbsp;maxTasksPerCycle,
                              boolean&nbsp;accurateQueueSize)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Please use <a href="#%3Cinit%3E(java.util.concurrent.Executor,int,boolean)"><code>KeyDistributedExecutor(Executor, int, boolean)</code></a></div>
</div>
<div class="block">Constructor to use a provided executor implementation for running tasks.
 <p>
 This constructor allows you to provide a maximum number of tasks for a key before it yields 
 to another key.  This can make it more fair, and make it so no single key can starve other 
 keys from running.  The lower this is set however, the less efficient it becomes in part 
 because it has to give up the thread and get it again, but also because it must copy the 
 subset of the task queue which it can run.
 <p>
 This also allows you to specify if you want accurate queue sizes to be tracked for given 
 thread keys.  There is a performance hit associated with this, so this should only be enabled 
 if <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> calls will be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expectedParallism</code> - IGNORED AND DEPRECATED</dd>
<dd><code>executor</code> - A multi-threaded executor to distribute tasks to.  Ideally has as many 
                 possible threads as keys that will be used in parallel.</dd>
<dd><code>maxTasksPerCycle</code> - maximum tasks run per key before yielding for other keys</dd>
<dd><code>accurateQueueSize</code> - <code>true</code> to make <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> more accurate</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getExecutor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExecutor</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.Executor&nbsp;getExecutor()</pre>
<div class="block">Getter for the executor being used behind the scenes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>executor tasks are being distributed to</dd>
</dl>
</li>
</ul>
<a id="getExecutorForKey(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExecutorForKey</h4>
<pre class="methodSignature">public&nbsp;<a href="../SubmitterExecutor.html" title="interface in org.threadly.concurrent">SubmitterExecutor</a>&nbsp;getExecutorForKey&#8203;(java.lang.Object&nbsp;threadKey)</pre>
<div class="block">Returns a <a href="../SubmitterExecutor.html" title="interface in org.threadly.concurrent"><code>SubmitterExecutor</code></a> implementation where all tasks submitted on this executor 
 will run on the provided key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - object key where hashCode will be used to determine execution thread</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>executor which will only execute based on the provided key</dd>
</dl>
</li>
</ul>
<a id="getTaskQueueSize(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskQueueSize</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getTaskQueueSize&#8203;(java.lang.Object&nbsp;threadKey)</pre>
<div class="block">Call to check how many tasks have been queued up for a given key.  Depending on what 
 constructor was used, and if a <code>true</code> was passed in for <code>accurateQueueSize</code>, the 
 accuracy of this call varies dramatically.
 <p>
 If <code>true</code> was not supplied in the constructor for <code>accurateQueueSize</code>, this will 
 only report how many tasks have not been accepted by the worker yet.  The accepting of those 
 tasks occur in batches, so this number will vary dramatically (and probably be unusable).
 <p>
 So it is highly recommended that if your interested in this functionality you supply a 
 <code>true</code> into the constructor.
 <p>
 Supplying a <code>true</code> for <code>accurateQueueSize</code> in the constructor does involve some 
 performance cost, but that overhead should be minimal (just no reason to accept any loss if 
 not interested in this feature).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - key for task queue to examine</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of tasks queued for the key</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a id="getTaskQueueSizeMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTaskQueueSizeMap</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.Object,&#8203;java.lang.Integer&gt;&nbsp;getTaskQueueSizeMap()</pre>
<div class="block">Get a map of all the keys and how many tasks are queued per key.  This map is generated 
 without locking.  Due to that, this may be inaccurate as task queue sizes changed while 
 iterating all key's active workers.
 <p>
 Because this requires an iteration of all task workers, if only a single key's queue size is 
 needed, use <a href="#getTaskQueueSize(java.lang.Object)"><code>getTaskQueueSize(Object)</code></a> as a cheaper alternative.
 <p>
 If <code>true</code> was not supplied in the constructor for <code>accurateQueueSize</code>, this will 
 only report how many tasks have not been accepted by the worker yet.  The accepting of those 
 tasks occur in batches, so this number will vary dramatically (and probably be unusable).
 <p>
 So it is highly recommended that if your interested in this functionality you supply a 
 <code>true</code> into the constructor.
 <p>
 Supplying a <code>true</code> for <code>accurateQueueSize</code> in the constructor does involve some 
 performance cost, but that overhead should be minimal (just no reason to accept any loss if 
 not interested in this feature).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Map of task key's to their respective queue size</dd>
</dl>
</li>
</ul>
<a id="execute(java.lang.Object,java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;execute&#8203;(java.lang.Object&nbsp;threadKey,
                    java.lang.Runnable&nbsp;task)</pre>
<div class="block">Provide a task to be run with a given thread key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - object key where <code>equals()</code> will be used to determine execution thread</dd>
<dd><code>task</code> - Task to be executed</dd>
</dl>
</li>
</ul>
<a id="submit(java.lang.Object,java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre class="methodSignature">public&nbsp;<a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;?&gt;&nbsp;submit&#8203;(java.lang.Object&nbsp;threadKey,
                                  java.lang.Runnable&nbsp;task)</pre>
<div class="block">Submit a task to be run with a given thread key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - object key where <code>equals()</code> will be used to determine execution thread</dd>
<dd><code>task</code> - Task to be executed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future to represent when the execution has occurred</dd>
</dl>
</li>
</ul>
<a id="submit(java.lang.Object,java.lang.Runnable,java.lang.Object)">
<!--   -->
</a><a id="submit(java.lang.Object,java.lang.Runnable,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;<a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;T&gt;&nbsp;submit&#8203;(java.lang.Object&nbsp;threadKey,
                                      java.lang.Runnable&nbsp;task,
                                      T&nbsp;result)</pre>
<div class="block">Submit a task to be run with a given thread key.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of result returned from the future</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - object key where <code>equals()</code> will be used to determine execution thread</dd>
<dd><code>task</code> - Runnable to be executed</dd>
<dd><code>result</code> - Result to be returned from future when task completes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future to represent when the execution has occurred and provide the given result</dd>
</dl>
</li>
</ul>
<a id="submit(java.lang.Object,java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>submit</h4>
<pre class="methodSignature">public&nbsp;&lt;T&gt;&nbsp;<a href="../future/ListenableFuture.html" title="interface in org.threadly.concurrent.future">ListenableFuture</a>&lt;T&gt;&nbsp;submit&#8203;(java.lang.Object&nbsp;threadKey,
                                      java.util.concurrent.Callable&lt;T&gt;&nbsp;task)</pre>
<div class="block">Submit a callable to be run with a given thread key.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of result returned from the future</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadKey</code> - object key where <code>equals()</code> will be used to determine execution thread</dd>
<dd><code>task</code> - Callable to be executed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future to represent when the execution has occurred and provide the result from the callable</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
